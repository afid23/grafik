<!DOCTYPE html>
<html>
<head>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <canvas id="lineChart" width="400" height="400"></canvas>
  <script>
    let ctx = document.getElementById('lineChart').getContext('2d');
    let chart = new Chart(ctx, {
      type: 'line',
      data: {
        labels: [], // waktu atau index
        datasets: [{
          label: 'Sensor Hujan',
          data: [],
          borderColor: 'blue',
          fill: false
        }]
      },
      options: { responsive: true }
    });

    document.addEventListener('DOMContentLoaded', function () {
      window.AppInventor.setWebViewString = function (data) {
        let obj = JSON.parse(data);
        chart.data.labels.push(obj.label);
        chart.data.datasets[0].data.push(obj.value);
        chart.update();
      };
    });
  </script>
</body>
</html>
